# å¿«é€Ÿé–‹å§‹æŒ‡å—

## ç«‹å³æ¸¬è©¦æ‡‰ç”¨ç¨‹å¼

### 1. å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼

```bash
npm start
```

### 2. æ¸¬è©¦ç™»å…¥åŠŸèƒ½

æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•å¾Œæœƒé¡¯ç¤ºç™»å…¥é é¢ï¼Œæ‚¨å¯ä»¥ï¼š

#### æ¸¬è©¦è¨»å†ŠåŠŸèƒ½

1. é»æ“Šã€Œè¨»å†Šã€æ¨™ç±¤
2. å¡«å¯«è¡¨å–®ï¼š
   - å§“åï¼šè¼¸å…¥ä»»æ„åç¨±
   - é›»å­éƒµä»¶ï¼štest@example.com
   - å¯†ç¢¼ï¼štest1234ï¼ˆè‡³å°‘ 8 å€‹å­—å…ƒï¼‰
   - ç¢ºèªå¯†ç¢¼ï¼štest1234
3. å‹¾é¸ã€ŒåŒæ„æœå‹™æ¢æ¬¾ã€
4. é»æ“Šã€Œè¨»å†Šã€æŒ‰éˆ•
5. è¨»å†ŠæˆåŠŸå¾Œæœƒè‡ªå‹•åˆ‡æ›åˆ°ç™»å…¥é é¢

#### æ¸¬è©¦ç™»å…¥åŠŸèƒ½

1. é›»å­éƒµä»¶ï¼štest@example.com
2. å¯†ç¢¼ï¼štest1234
3. å¯é¸æ“‡å‹¾é¸ã€Œè¨˜ä½æˆ‘ã€
4. é»æ“Šã€Œç™»å…¥ã€æŒ‰éˆ•
5. ç™»å…¥æˆåŠŸå¾Œæœƒé€²å…¥ä¸»æ‡‰ç”¨ç¨‹å¼

#### æ¸¬è©¦ç¤¾ç¾¤ç™»å…¥ï¼ˆéœ€è¦è¨­å®šï¼‰

- é»æ“Šã€Œä½¿ç”¨ Google ç¹¼çºŒã€æˆ–ã€Œä½¿ç”¨ Facebook ç¹¼çºŒã€
- **æ³¨æ„**ï¼šç¤¾ç¾¤ç™»å…¥éœ€è¦å…ˆè¨­å®š OAuth æ†‘è­‰æ‰èƒ½ä½¿ç”¨
- è©³ç´°è¨­å®šè«‹åƒé–± [OAUTH_SETUP.md](./OAUTH_SETUP.md)

## ç›®å‰åŠŸèƒ½ç‹€æ…‹

### âœ… å·²å¯¦ä½œåŠŸèƒ½

- [x] ç™»å…¥/è¨»å†Šé é¢ UI
- [x] è¡¨å–®é©—è­‰ï¼ˆå‰ç«¯ï¼‰
- [x] æ¨™ç±¤åˆ‡æ›å‹•ç•«
- [x] å¯†ç¢¼ç¢ºèªæª¢æŸ¥
- [x] è¨˜ä½æˆ‘åŠŸèƒ½ UI
- [x] å¿˜è¨˜å¯†ç¢¼é€£çµ
- [x] OAuth æµç¨‹æ¡†æ¶
- [x] ä¸»æ‡‰ç”¨ç¨‹å¼æ­¡è¿é é¢

### ğŸ”§ éœ€è¦å®Œå–„çš„åŠŸèƒ½

- [ ] å¾Œç«¯ API æ•´åˆ
- [ ] å¯¦éš›çš„ä½¿ç”¨è€…è³‡æ–™å„²å­˜
- [ ] OAuth æ†‘è­‰è¨­å®š
- [ ] å¯†ç¢¼åŠ å¯†
- [ ] Session ç®¡ç†
- [ ] å¯†ç¢¼é‡è¨­åŠŸèƒ½å¯¦ä½œ

## ç„¡éœ€å¾Œç«¯çš„æ¸¬è©¦

ç›®å‰çš„å¯¦ä½œå…è¨±æ‚¨åœ¨**æ²’æœ‰å¾Œç«¯ä¼ºæœå™¨**çš„æƒ…æ³ä¸‹æ¸¬è©¦æ‰€æœ‰ UI åŠŸèƒ½ï¼š

1. æ‰€æœ‰è¡¨å–®éƒ½æœƒé€²è¡Œå‰ç«¯é©—è­‰
2. æäº¤è¡¨å–®å¾Œæœƒé¡¯ç¤ºæˆåŠŸè¨Šæ¯
3. ç™»å…¥æˆåŠŸå¾Œæœƒé€²å…¥ä¸»æ‡‰ç”¨ç¨‹å¼é é¢
4. æ‰€æœ‰å‹•ç•«å’Œäº’å‹•éƒ½å¯ä»¥æ­£å¸¸æ¸¬è©¦

**é€™æ„å‘³è‘—æ‚¨å¯ä»¥ç«‹å³é«”é©—å®Œæ•´çš„ä½¿ç”¨è€…ä»‹é¢æµç¨‹ï¼**

## æª”æ¡ˆçµæ§‹èªªæ˜

```
video-assistant/
â”‚
â”œâ”€â”€ login.html              # ç™»å…¥/è¨»å†Šé é¢
â”‚   â””â”€â”€ åŒ…å«å®Œæ•´çš„è¡¨å–® UI å’Œç¤¾ç¾¤ç™»å…¥æŒ‰éˆ•
â”‚
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ login.css          # ç™»å…¥é é¢çš„æ‰€æœ‰æ¨£å¼
â”‚       â””â”€â”€ éŸ¿æ‡‰å¼è¨­è¨ˆã€å‹•ç•«æ•ˆæœ
â”‚
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ login.js           # ç™»å…¥é é¢é‚è¼¯
â”‚       â”œâ”€â”€ è¡¨å–®é©—è­‰
â”‚       â”œâ”€â”€ æ¨™ç±¤åˆ‡æ›
â”‚       â””â”€â”€ IPC é€šè¨Š
â”‚
â”œâ”€â”€ index.html             # ä¸»æ‡‰ç”¨ç¨‹å¼é é¢
â”‚   â””â”€â”€ ç™»å…¥æˆåŠŸå¾Œé¡¯ç¤ºçš„æ­¡è¿é é¢
â”‚
â”œâ”€â”€ main.js                # Electron ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ è¦–çª—ç®¡ç†
â”‚   â”œâ”€â”€ IPC äº‹ä»¶è™•ç†
â”‚   â””â”€â”€ OAuth æµç¨‹è™•ç†
â”‚
â””â”€â”€ config.example.js      # OAuth è¨­å®šç¯„ä¾‹
```

## è‡ªè¨‚æ‚¨çš„æ‡‰ç”¨ç¨‹å¼

### ä¿®æ”¹å“ç‰Œé¡è‰²

ç·¨è¼¯ `styles/login.css`ï¼š

```css
/* ä¸»è¦æ¼¸å±¤è‰² */
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

/* ä¿®æ”¹ç‚ºæ‚¨çš„å“ç‰Œè‰² */
background: linear-gradient(135deg, #YOUR_COLOR_1 0%, #YOUR_COLOR_2 100%);
```

### ä¿®æ”¹æ‡‰ç”¨ç¨‹å¼åç¨±

1. **ç™»å…¥é é¢**ï¼šç·¨è¼¯ `login.html` ç¬¬ 11 è¡Œ

```html
<h1>æ‚¨çš„æ‡‰ç”¨ç¨‹å¼åç¨±</h1>
```

2. **ä¸»é é¢**ï¼šç·¨è¼¯ `index.html` ç¬¬ 145 è¡Œ

```html
<h1>æ‚¨çš„æ‡‰ç”¨ç¨‹å¼åç¨±</h1>
```

3. **è¦–çª—æ¨™é¡Œ**ï¼šç·¨è¼¯å°æ‡‰çš„ `<title>` æ¨™ç±¤

### æ–°å¢è¡¨å–®æ¬„ä½

åœ¨ `login.html` ä¸­æ–°å¢è¼¸å…¥æ¬„ä½ï¼š

```html
<div class="input-group">
  <label for="phone">é›»è©±è™Ÿç¢¼</label>
  <input type="tel" id="phone" placeholder="è«‹è¼¸å…¥é›»è©±è™Ÿç¢¼" />
</div>
```

åœ¨ `scripts/login.js` ä¸­ç²å–å€¼ï¼š

```javascript
const phone = document.getElementById("phone").value;
```

## æ•´åˆå¾Œç«¯ API

### æº–å‚™æ‚¨çš„ API ç«¯é»

æ‚¨éœ€è¦ä»¥ä¸‹ API ç«¯é»ï¼š

```
POST /api/auth/register
- åƒæ•¸ï¼š{ name, email, password }
- å›å‚³ï¼š{ success, message, token }

POST /api/auth/login
- åƒæ•¸ï¼š{ email, password }
- å›å‚³ï¼š{ success, message, token, user }

POST /api/auth/oauth
- åƒæ•¸ï¼š{ provider, code }
- å›å‚³ï¼š{ success, message, token, user }
```

### ä¿®æ”¹ login.js

åœ¨ `scripts/login.js` ä¸­ï¼Œå°‡æ¨¡æ“¬ API å‘¼å«æ›¿æ›ç‚ºå¯¦éš›è«‹æ±‚ï¼š

```javascript
// ç™»å…¥ API
async function loginUser(email, password) {
  const response = await fetch("https://your-api.com/api/auth/login", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify({ email, password }),
  });

  const data = await response.json();

  if (!response.ok) {
    throw new Error(data.message || "ç™»å…¥å¤±æ•—");
  }

  return data;
}

// åœ¨è¡¨å–®æäº¤è™•ä½¿ç”¨
loginFormElement.addEventListener("submit", async (e) => {
  e.preventDefault();

  const email = document.getElementById("login-email").value;
  const password = document.getElementById("login-password").value;

  try {
    const result = await loginUser(email, password);

    // å„²å­˜ token
    localStorage.setItem("token", result.token);

    // é€²å…¥ä¸»é é¢
    ipcRenderer.send("login-success", result.user);
  } catch (error) {
    showMessage("ç™»å…¥å¤±æ•—ï¼š" + error.message, "error");
  }
});
```

## å¸¸è¦‹å•é¡Œ

### Q: ç‚ºä»€éº¼é»æ“Šç¤¾ç¾¤ç™»å…¥æŒ‰éˆ•æ²’æœ‰åæ‡‰ï¼Ÿ

A: ç¤¾ç¾¤ç™»å…¥éœ€è¦å…ˆè¨­å®š OAuth æ†‘è­‰ã€‚åƒé–± [OAUTH_SETUP.md](./OAUTH_SETUP.md) é€²è¡Œè¨­å®šã€‚

### Q: å¦‚ä½•å„²å­˜ä½¿ç”¨è€…çš„ç™»å…¥ç‹€æ…‹ï¼Ÿ

A: æœ‰å¹¾ç¨®æ–¹å¼ï¼š

1. ä½¿ç”¨ localStorage å„²å­˜ token
2. ä½¿ç”¨ Electron çš„ store å¥—ä»¶
3. ä½¿ç”¨å¾Œç«¯ session

ç¯„ä¾‹ï¼š

```javascript
// å„²å­˜
localStorage.setItem("token", token);
localStorage.setItem("user", JSON.stringify(user));

// è®€å–
const token = localStorage.getItem("token");
const user = JSON.parse(localStorage.getItem("user"));
```

### Q: å¦‚ä½•å¯¦ä½œã€Œè¨˜ä½æˆ‘ã€åŠŸèƒ½ï¼Ÿ

A: åœ¨ç™»å…¥æˆåŠŸæ™‚æª¢æŸ¥ checkboxï¼š

```javascript
const rememberMe = document.getElementById("remember-me").checked;

if (rememberMe) {
  // ä½¿ç”¨ localStorage é•·æœŸå„²å­˜
  localStorage.setItem("rememberMe", "true");
  localStorage.setItem("token", token);
} else {
  // ä½¿ç”¨ sessionStorage åƒ…åœ¨æ­¤æ¬¡æœƒè©±å„²å­˜
  sessionStorage.setItem("token", token);
}
```

### Q: å¦‚ä½•æ·»åŠ è¼‰å…¥å‹•ç•«ï¼Ÿ

A: åœ¨ `login.css` ä¸­æ–°å¢ï¼š

```css
.loading {
  border: 3px solid #f3f3f3;
  border-top: 3px solid #667eea;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
```

åœ¨ `login.js` ä¸­ä½¿ç”¨ï¼š

```javascript
function showLoading() {
  const btn = document.querySelector(".btn-primary");
  btn.disabled = true;
  btn.innerHTML = '<div class="loading"></div>';
}

function hideLoading() {
  const btn = document.querySelector(".btn-primary");
  btn.disabled = false;
  btn.innerHTML = "ç™»å…¥";
}
```

## ä¸‹ä¸€æ­¥

1. âœ… æ¸¬è©¦æ‰€æœ‰ UI åŠŸèƒ½
2. ğŸ“ è¨­è¨ˆæ‚¨çš„å¾Œç«¯ API
3. ğŸ” è¨­å®š OAuthï¼ˆå¦‚éœ€è¦ï¼‰
4. ğŸ”— æ•´åˆå¾Œç«¯ API
5. ğŸ¨ è‡ªè¨‚æ‡‰ç”¨ç¨‹å¼å¤–è§€
6. ğŸš€ æ‰“åŒ…ä¸¦ç™¼å¸ƒæ‡‰ç”¨ç¨‹å¼

## éœ€è¦å¹«åŠ©ï¼Ÿ

- æŸ¥çœ‹ [README.md](./README.md) äº†è§£å®Œæ•´æ–‡ä»¶
- æŸ¥çœ‹ [OAUTH_SETUP.md](./OAUTH_SETUP.md) äº†è§£ OAuth è¨­å®š
- æª¢æŸ¥æ§åˆ¶å°çš„éŒ¯èª¤è¨Šæ¯
- é–‹å•Ÿ DevToolsï¼šåœ¨ `main.js` ä¸­å–æ¶ˆè¨»è§£ `mainWindow.webContents.openDevTools()`

ç¥æ‚¨é–‹ç™¼é †åˆ©ï¼ğŸ‰
